Уявіть, що ви працюєте розробником програмного забезпечення в банку.
Ваше завдання - створити SPA, щоб користувачам було зручно керувати курсами валют.

Ваш додаток повинен складатися з 2 сторінок:

## Сторінка 1

`Home` з конвертером з однієї валюти в іншу.
На цій сторінці повинно бути ОДНЕ текстове поле, в яке можна ввести текст,
наприклад, `15 USD in UAH` і отримати результат.

## Сторінка 2

`Rates` з поточними курсами валют.
На цій сторінці користувач повинен бачити "свіжі" курси валют
по відношенню до базової валюти - наприклад, якщо базовою валютою є гривня,
користувач бачить, що 1 USD = 36.80 грн., а 1 EUR = 40.20 грн.

Створіть навігаційну панель (в будь-якому місці додатку, де, на Вашу думку, це буде краще)
для переходу між сторінками.

При першому (і тільки ПЕРШОМУ) відкритті програми автоматично
визначити курс обміну за поточним місцезнаходженням користувача
(не розглядайте варіант, коли користувач використовує вкладку інкогніто).

Використовуйте ліниве завантаження (ВАЖЛИВО!) для прискорення роботи додатку.
Використовуйте redux для управління станом.

- Користувач повинен мати можливість змінити свій поточний курс.
  Додайте цю опцію там, де, на вашу думку, це буде краще.

Приклади різних API, які ви можете використовувати для цього завдання:

- [API біржових курсів](https://exchangeratesapi.io/documentation/)
- [Fixer API (подібний до попереднього)](https://fixer.io/documentation)
- [Відкриті курси валют](https://openexchangerates.org/)

Це тестове завдання однієї з компаній на ринку IT, [оригінал завдання](https://hackmd.io/@YGYcYPwrSpam-opsOJHMAw/rJ_UTnAVt)

Ми покроково розберемо як виконати дане завдання, щоб у вас був
логарифм дій для виконання інших тестових завдань.

## 1 Крок

- Потрібно підключити в проект npm пакет react-router-dom `npm i react-router-dom`
- Створити сторніки `Home` `Rates` і компонент `Header`
- В проекті будуть такі маршрути:
  - `'/'` - сторінка `<Home>`, домашня сторінка з конвертером з однієї валюти в іншу.
  - `'/rates'` - сторінка `<Rates>`, сторінка "свіжими" курсами валют.

## 2 Крок (на даному етапі користувач завжди дозволяє використовувати своє місцезнаходження)

- Визначити поточне місцезнаходження користувача використовуючи метод [getCurrentPosition] (https://developer.mozilla.org/en-US/docs/Web/API/Geolocation/getCurrentPosition)
- Коли ми отримали `latitude` і `longitude` місцезноходження нашого користувача
  ми можемо отримати його поточну валюту використовуючи сервіс [opencagedata](https://opencagedata.com/)

  Використовуйте цей рядок запиту

  ```bash
  const apiKey = 'd4683b09d0c94ec0aebf0b2e043decbf';
  const urlPosition = `https://api.opencagedata.com/geocode/v1/json?q=${lat}+${long}&key=${apiKey}&language=en`;

  ```

  Для тримання поточної валюти потрібно використати наступну вкладеність
  `results[0].annotations.currency.iso_code`

## 3 Крок

- Потрібно підключити в проект redux `npm install @reduxjs/toolkit react-redux redux-persist`
- Використовуючи `createAsyncThunk` потрібно створити thunk для того щоб записати в стейт поточну валюту користувача
  Нехай Redux-state виглядає наступним чином.

```bash
{
   baseCurrency:''
}
```

- Потрібно налаштувати збереження властивості `baseCurrency` в `local storage`
  використовуючи бібліотеку `redux-persist`
- Використовуй цей
  [конфіг](https://redux-toolkit.js.org/usage/usage-guide#use-with-redux-persist)
  для `store`

  ## 4 Крок

- Використовуючи метод `getState` додайте перевірку щоб тільки при першому відкритті сторінки
  програма визначала поточну валюту користувача

```bash
    const state = thunkAPI.getState();
    const { baseCurrency } = state.currency;

    if (baseCurrency) {
      return thunkAPI.rejectWithValue('We already have base currency!');
    }
```

- Потрібно опрацювати варіант коли користувач не дозволить використовувати місцезнаходження.
  Створіть синхронний action і якщо користувач не дозволить використовувати його місцезнаходження
  запишіть в стейт базову валюту на вибір, наприклад `USD`.

- Створіть селектор і в копоненті `Header` зробіть ренед по умові для поточної валюти

```bash
     {baseCurrency && <p> Your base currency: {baseCurrency}</p> }
```

## 5 Крок

- Створіть компонент форми в якому буде форма з одним інпутом, в який буде вводитися текст
  в форматі `15 USD in UAH`. Для валідації інпута можна використати регулярний вираз:

```bash
     ^\d+(\.\d{1,2})?\s[a-zA-Z]{3}\sin\s[a-zA-Z]{3}$
```

Ось що означає кожна частина цього виразу:
`^` - початок рядка.
`\d+` - відповідає одній або більше цифрам.
`(\.\d{1,2})?` - відповідає десятковому розділовому знаку (крапці) та одній або двом цифрам після нього, роблячи цю частину необов'язковою.
`\s` - відповідає пробілу.
`[a-zA-Z]` - будь-яка літера англійської абетки, незалежно від регістру (велика або мала літера).
`{3}` - рівно три рази, що вказує на кількість літер.
`\s` - знову відповідає пробілу.
`in` - відповідає тексту "in".
`\s`- знову відповідає пробілу.
`[a-zA-Z]` - будь-яка літера англійської абетки, незалежно від регістру (велика або мала літера).
`{3}` - рівно три рази, що вказує на кількість літер.
`$` - кінець рядка.

- Відповідно до умов завдання, користувач вводить необхідні дані в форматі `15 USD in UAH`,
  В документації бекенда [Convert Endpoint](https://exchangeratesapi.io/documentation/)
  вказано, що потрібно передавати `to`, `from`, `amount`. Тому при сабміті форми з рядка `15 USD in UAH`
  потрібно отримати об'єкт

```bash
{
  to: 'UAH',
  from: 'USD',
  amount: 15
}
```

- Використовуючи `createAsyncThunk` потрібно створити thunk для того щоб відправити запит на бекенд
  і записати відповідь в Redux-state.
  Нехай Redux-state виглядає наступним чином.

```bash
{
    baseCurrency:''
    to: '',
    from: '',
    amount: '',
    result: '',
}
```

- Створіть селектор, щоб отримати зі стейту дані про обмін валюти.
- Після успішної відповіді на сторінці потрібно відобразити результат операції.
- При запиті з помилкою інформуємо користувача, що щось пішло не так

```bash
  exchangeCarrency({to, from, amount})
  .unwrap()
  .then(()=>{
    Notify.success('The exchange operation was successful')
  })
  .catch(()=>{
    Notify.failure('Enter valid data and try again')
  })
```

- Вказуємо в Redux-state початкові дані.

```bash
   {
    to: '',
    from: '',
    amount: '',
    result: '',
   }
```
